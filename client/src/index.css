@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* Light mode - Softer, less harsh colors */
		--background: 220 20% 97%;
		--foreground: 224 71% 4%;

		--card: 0 0% 100%;
		--card-foreground: 224 71% 4%;

		--popover: 0 0% 100%;
		--popover-foreground: 224 71% 4%;

		--primary: 243 75% 59%;
		--primary-foreground: 0 0% 100%;

		--secondary: 220 14% 96%;
		--secondary-foreground: 220 9% 46%;

		--muted: 220 14% 96%;
		--muted-foreground: 220 9% 46%;

		--accent: 243 75% 97%;
		--accent-foreground: 243 75% 59%;

		--destructive: 0 84% 60%;
		--destructive-foreground: 0 0% 100%;

		--border: 220 13% 91%;
		--input: 220 13% 91%;
		--ring: 243 75% 59%;

		--radius: 0.5rem;

		/* Custom semantic colors */
		--success: 142 76% 36%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 100%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;
	}

	.dark {
		/* Dark mode - Rich, comfortable colors */
		--background: 224 71% 4%;
		--foreground: 213 31% 91%;

		--card: 224 71% 6%;
		--card-foreground: 213 31% 91%;

		--popover: 224 71% 6%;
		--popover-foreground: 213 31% 91%;

		--primary: 243 75% 59%;
		--primary-foreground: 0 0% 100%;

		--secondary: 215 28% 17%;
		--secondary-foreground: 213 31% 91%;

		--muted: 215 28% 17%;
		--muted-foreground: 215 20% 65%;

		--accent: 215 28% 17%;
		--accent-foreground: 213 31% 91%;

		--destructive: 0 63% 31%;
		--destructive-foreground: 0 0% 100%;

		--border: 215 28% 17%;
		--input: 215 28% 17%;
		--ring: 243 75% 59%;

		/* Custom semantic colors */
		--success: 142 76% 36%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 100%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;
	}

	* {
		@apply tw-border-border;
		box-sizing: border-box;
	}

	body {
		@apply tw-bg-background tw-text-foreground;
	}

	/* Prevent layout shift during theme toggle */
	html {
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
	}
}

/* Theme transition layer - separate from base to avoid conflicts */
@layer utilities {
	/* Global smooth theme transitions for color properties only */
	/* Using lower specificity so component transitions take precedence */
	:root:not(.no-transitions) *:not([class*="tw-transition"]):not([class*="tw-animate"]) {
		transition: color 200ms ease-out, 
					background-color 200ms ease-out, 
					border-color 200ms ease-out,
					fill 200ms ease-out,
					stroke 200ms ease-out;
	}

	.theme-transition {
		@apply tw-transition-all tw-duration-300 tw-ease-in-out;
	}

	/* Disable transitions during initial page load to prevent flash */
	.no-transitions *,
	.no-transitions *::before,
	.no-transitions *::after {
		transition: none !important;
		animation: none !important;
	}
}

/* Prevent scrollbar width from causing layout shift */
html {
	overflow-y: scroll;
	scrollbar-gutter: stable;
}

/* Custom scrollbar styling - consistent width in both modes */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: hsl(220 14% 96%);
}

::-webkit-scrollbar-thumb {
	background: hsl(220 9% 75%);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: hsl(220 9% 60%);
}

/* Custom scrollbar for dark mode */
.dark ::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

.dark ::-webkit-scrollbar-track {
	background: hsl(215 28% 17%);
}

.dark ::-webkit-scrollbar-thumb {
	background: hsl(215 20% 35%);
	border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
	background: hsl(215 20% 45%);
}
